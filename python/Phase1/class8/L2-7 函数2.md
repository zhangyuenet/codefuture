# L2-7 函数2
## 教学目标
 1. 了解默认参数；
2. 学习使用递归；
3. 课程设计：用递归实现斐波那契数列；
4. 作业：数字倒序；

## 教学设计
### 默认参数
上节课我们学习了如何定义一个函数，并学习了如何让函数可以同时接受多个参数。
这节课，我们先来学习一个在Python中经常看到的情形：
```python
def foo(param1, param2=value):
	......
```

这种形态被称之为默认参数。使用默认参数，可以在调用foo()函数时，既可以给param2赋值，也可以不给值，这时，param2就会按照“默认值”value执行：
```python
foo(1,2) # param1=1, param2=2
foo(1) # param1=1, param2=value
```
这个默认参数有什么用呢？我们来看下面的例子：
初中一年级某班的学生，大部分是13岁，个别人12岁，其中有两位加拿大籍学生，其他都是中国籍。我们需要通过一个函数student录入学生数据，函数定义如下：
```python
def student(name, age, nationality):
	......
```

则调用该函数类似如下：
```python
student(‘zhangsan’, 13, ‘China’)
student(‘lisi’, 13, 'China’)
student(‘wangwu’, 13, ‘China’)
student(‘charile’, 13, ‘Canada’)
student(‘Raymond’, 12, ‘Canada’)
student(‘zhaoliu’, 13, ‘China’)
```
如果函数定义中采用默认参数，如下所示：
```python
def student(name, age=13, nationality=‘China’)
```
那么，调用工作将得到大大的简化：
```python
student(‘zhangsan’)
student(‘lisi’)
student(‘wangwu’)
student(‘charile’, nationality=‘Canada’)
student(‘Raymond’, 12, ‘Canada’)
student(‘zhaoliu’)
```
注意，其中的‘Charile’同学的，因为没有按照顺序提供参数，因此特别标明后面的‘Canada’是给那个参数的。
有了默认参数，大家看是不是可以更方便的输入数据了。
关于默认参数，大家留一个印象就好，以后看到的时候知道有这样的用法就够了。

### 递归
下面我们来讲述今天重要的概念：递归。递归的含义简单来说就是一个函数自己调自己。如何能够做到自己调自己呢？
我们看这个问题：
```python
add(n) = 1 + 2 + 3 + ...... + (n-1) + n
```
大家一定想起来，我们之前用循环解决过这道问题，今天我们换个写法。
```python
def add(n) :
	if n == 1:
		return 1
	return n + add(n - 1)
```
我们测试一下这个函数：
```python
>>> add(1)
1
>>> add(3)
6
>>> add(100)
5050
```
看来结果是正确的。
下面我们来仔细分析一下，这个函数是如何运行的：
当n == 3时：
```python
-- add(3)
-- 3 + add(2)
-- 3 + (2 + add(1))
-- 3 + (2 + 1)
```

上面就是一个典型的递归的写法。大家回忆一下，我们用循环写加法的时候和用递归有什么差异。
实际上，所有的递归都可以用循环写出来，不过，递归看上去是不是挺酷的？

好了，到了大家训练的时候了。
首先我们训练一道简单点的题目，我们学了如何做加法，现在我们换成乘法，也就是阶乘：
```python
fact(n) = n! = 1 * 2 * 3 * …… * (n-1) * n
```
我们尝试用循环和递归两种方式写这个函数。
参考实现：
```python
def fact(n):
	if n <= 1:
		return 1
	return n * fact(n-1)
```

按道理学生“照猫画虎”应该能够很快完成，如果有人无法完成，老师需要了解具体原因，并提供指导。很可能是语言不熟练或者编辑器不熟练导致的。要确保所有人都能顺利完成。


大家完成了第一道题目，很棒！
下面我们稍微增加一点难度，递归有个特别经典的题目：斐波那契数列：
```python
斐波那契数列的排列是：0，1，1，2，3，5，8，13，21，34，55，89，144……依次类推下去，你会发现，它后一个数等于前面两个数的和。在这个数列中的数字，就被称为斐波那契数。

我们要求写一个函数F(n),确认数列中第n位的值是多少？
```
【教师活动】停留一段时间，让大家思考一下怎么用递归实现。大家估计没有办法解决，主要是无法列出公式。
下面，帮大家做一下分析，斐波那契数列可以用如下的表达式表示：
```python
f(n) = n；    当 n <= 1
f(n) = f(n-1) + f(n-2)；  当 n > 1
```
下面再请大家想想如何写，等3分钟。

参考实现：
```python
def F(n):
	if n <= 1:
		return n
	return F(n-1) + F(n-2)
```

【教师活动】如果学生很勉强，则完成讲述后，仍然要求学生自己写一遍。

**总结**
大家有没有发现，在写这个函数的过程中，如果我们能够准确的列出表达式，就相对容易的写出递归了。因此，当遇到类似的问题时，列出表达式是非常关键的。

## 作业
### 1，使用递归倒序输出一个正整数：
递归有一种很常见的用途就是排序。
```python
写一个函数，输入一个正整数，如n=12345,以各位数的逆序形式输出，即输出54321。
```
请大家首先像上面的题，先找找表达式。

助教老师根据情况看是否需要提示：
【提示1】
它的表达式是：
```python
f(n) = print(n%10);               n < 10
f(n) = print(n%10);f(n//10);       n >= 10
```

【提示2】
```python
print(12 // 10)			# 1 整除
print(12 % 10)			# 2 余数运算
```


【参考实现】
```python
def f(n):
	print(n % 10)
	if n >= 10:
		f(n // 10)
```







