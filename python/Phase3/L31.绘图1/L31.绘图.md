# 绘图
## 课程目标
1. 绘图系列课程的目标是帮助学生建立图形和数字之间的关联；
2. 从教学目标来说，希望学生在未来能够使用Python绘制任何可以用函数表达的数学公式；
3. 考虑到学生的年龄，无法触达复杂的函数表达式，因此从如下两个角度帮助学生建立概念：
   - 数学函数和程序函数一样，都是在描述一种对应关系，针对一系列值A，通过某一系列规则，可以获得唯一的系列值B；
   - 任何函数关系，都可以用图形表达。



## 课程导入- Turtle
我们在第一阶段曾经简单介绍过在Python中绘图。还有人能够记得是如何实现的么？
对，就是Turtle,一个很直观的绘图工具。我们先来看程序回忆一下（line_turtle.py）：
```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
from turtle import *

color('blue')
width(2)
# X轴
goto(0,0)
pendown()
goto(100,0)
penup()
# Y轴
goto(0,0)
pendown()
goto(0,100)
penup()

# 画线
goto(0,0)
color('red')
pendown()
goto(20,15)
goto(40,30)
goto(60,70)
goto(80,62)

penup()
done()
```
因为turtle是Python自带的标准模块，因此使用它无需提前安装。直接写代码就可以了。turtle的代码也很直观：
- 设置和更改笔的属性（粗细和颜色等）；
- 抬起笔移动；
- 放下笔绘图；

如果画一些简单的图形，用Turtle非常适合，这差不多是最简单的用计算机绘制图形的方式。大家不妨下课后回顾一下第一阶段Lecture10的教程，复习一下用Turtle绘图。以后在学习中如果需要绘制一些简单的图形，可以迅速的用Turtle实现。
不过过于简单也是一种缺陷。例如坐标轴就需要自己画，如果想画的漂亮，甚至标上刻度，就需要花更多的功夫。因此在需要绘制复杂图形的时候，我们需要更加强有力的工具。今天和后面几节课，我们会介绍绘图相关的功能，它主要依赖的是matplotlib库，在绘制动画图表时，大家都应该已经安装了。

## Pyplot绘图

使用matplotlab的pyplot绘图，一切变得很简单：
```python
import matplotlib.pyplot as plt

x = [20, 40, 60, 80]
y = [15, 30, 70, 62]

plt.plot(x, y, color="r", linestyle="--", marker="*", linewidth=1.0)

plt.show()
```
相对于Turtle，Pyplot的代码是不是更简洁了？同时，界面也更好看，因为有更好的箭头和标注。
同学们应该注意到了，这里有几个参数，下面分别介绍一下。

### 颜色color
颜色可以使用这些预设颜色代码：

| 颜色（线条） | 红色Red | 洋红Magenta | 黄色Yellow | 绿色Green | 青色Cyan | 蓝色Blue | 黑色Black | 白色White |
| ------------ | ------- | ----------- | ---------- | --------- | -------- | -------- | --------- | --------- |
| 代码         | r       | m           | y          | g         | c        | b        | k         | w         |



### 线条样式linestyle

| 线条风格 | 实线 | 虚线 | 破折线 | 点画线 | 无线条    |
| -------- | ---- | ---- | ------ | ------ | --------- |
| 代码表示 | -    | :    | –      | -.     | None 或 , |

### 标记marker

|      |          |         |          |      |          |
| ---- | -------- | ------- | -------- | ---- | -------- |
| 标记 | 描述     | 标记    | 描述     | 标记 | 描述     |
| o    | 圆圈     | .       | 点       | *    | 星号     |
| +    | 加号     | v       | 朝下三角 | ^    | 朝上三角 |
| <    | 朝左三角 | >       | 朝右三角 | D    | 大菱形   |
| d    | 小菱形   | s       | 正方形   | p    | 五边形   |
| H    | 大六边形 | h       | 小六边形 | p    | 八边形   |
| x    | ✘号      | None或, | 无标记   |      |          |



大家不妨用这些标记换着试试看，使用这些参数，基本上已经可以满足普通的需求。

我们可以控制线条外，还可以设定坐标轴的标题和整个图形的标题：
```python
plt.xlabel('人数')
plt.ylabel('分数')
plt.title("A simple plot")
```

大家记得以前曾经提到过，如果希望在界面上显示中文，必须在代码中将英文字体指定为中文，否则会出现乱码和方块：
```python
plt.rcParams['font.sans-serif']=['SimHei'] #用来正常显示中文标签
```
最后还可以吧画出来的图形保存起来：
```python
plt.savefig("line.jpg")
```
但是大家记得，savefig一定要在show之前执行，这是因为show之后plt已经生成了新的空白图片。所以如果在show之后执行，save出来的图片将是一片空白。

## 绘制函数曲线
pyplot最重要的功能是绘制各种函数曲线。如果你不了解什么是函数的话，可能需要首先了解一下函数的基本概念：

https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0
或者：
https://baike.baidu.com/item/%E5%87%BD%E6%95%B0/301912

简单的来说，函数是一种对应关系，针对某种输入，能够给出唯一的输出，就称之为函数。例如：
 y = 2 * x + 1就是一个函数。针对任何一个x，都能得到唯一的一个y值。

我们的程序，实际上可以绘制任何函数的曲线，这可以为我们未来的学习带来很大的便利。

大家请记住绘制函数曲线的两个步骤：
1. 准备一组数据作为输入x；
2. 描述一个函数；

准备数据，当数据量比较大时，直接像上面这样给x设定一个数组是不方便的。因此我们引入一个模块numpy，这个模块包含大量的数学方法和工具，可以帮助我们很容易的创造数据和使用数学函数(func.py)：
```python
import matplotlib.pyplot as plt
import numpy as np

# 准备数据作为X.
x = np.arange(-10, 10, 0.1)
# 描述函数
y = 2 * x + 1

plt.plot(x,y, color='r', linestyle='-', linewidth=1)
plt.show()
```
np.arange()函数可以帮助大家生成一个数据序列，只需要指定最小值，最大值和间隔就可以。
大家不妨可以这样试试：
```python
>>> import numpy as np
>>> x = np.arange(-10,10,0.1)
>>> print(x)
[-1.00000000e+01 -9.90000000e+00 -9.80000000e+00 -9.70000000e+00
 -9.60000000e+00 -9.50000000e+00 -9.40000000e+00 -9.30000000e+00
 -9.20000000e+00 -9.10000000e+00 -9.00000000e+00 -8.90000000e+00
 ... ...
```
考一下大家，上面的x，包含多少个数字？怎么计算？

有了x，就用代码表示出函数即可。上面的代码能够准确的绘制y=2*x+1的曲线。你可以用这个代码检查各种数学函数的曲线，例如：
- y = x * x
- y = x * x * x
等等。
numpy给大家提供了很多数学函数我们可以直接拿来用，例如三角函数：
```python
y = np.sin(x)
```
下面这片文章简要的总结了各种numpy能够提供的常用数学函数，值得收藏：
https://www.runoob.com/numpy/numpy-mathematical-functions.html

这里面大部分的函数，也是同学们在学习中迟早会遇到的。

## 多图像绘制
最后，我们给大家讲一下如何在一个图中绘制多个图像。

在一幅图中叠加多个图像，非常容易，只需要作出不同的函数即可(multi-func.py)：
```python
x = np.arange(-10, 10, 0.1)
y1 = 2 * x + 1 
y2 = x * x

plt.plot(x,y1, color='r', linestyle='-', linewidth=1)
plt.plot(x,y2, color='b', linestyle=':', linewidth=1)

plt.show()
```
每个函数还可以设置不同的外观。
有时候，如果图形叠加在一起，因为数据范围差异比较大，看上去会不够直观，例如，大家试试看将这两个函数放在一起显示：
```python
x = np.arange(-10, 10, 0.1)
y1 = 2 * x + 1 
y2 = x * x * x
```
因此，将图放在一起显示时，需要注意图形的范围。以免出现这个例子的问题。

## 作业
今天的作业，要求大家将如下的函数绘制在一张图上，为他们设置不同的颜色和线条：
- y = 2 * x + 1 
- y = 4 * x + 1
- y = x + 2
- y = x * x
- y = x * x + 1
- y = (x + 1) * (x + 1) 

观察一下，这些图像的位置差异和形状差异。
如果有可能，也请尝试将你学过的函数画出来试试看。


